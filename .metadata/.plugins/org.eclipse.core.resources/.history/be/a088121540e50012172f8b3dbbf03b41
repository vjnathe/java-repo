package com.cisco.chatmodule;
import java.io.*;
import java.net.*;
public class Server {

	@SuppressWarnings("deprecation")
	public static void main(String[] args)throws Exception {
		
				ServerSocket server=new ServerSocket(1236);;
				DataInputStream fromServer;
				DataOutputStream toServer;
				Socket con=null;
				try {
					System.out.println("Server Waiting for Connection !!!");
					con=server.accept();
					System.out.println("Client Connected:="+con.getInetAddress()+" on Port:="+con.getPort());
					fromServer=new DataInputStream(con.getInputStream()); 
					toServer=new DataOutputStream(con.getOutputStream());
					DataInputStream fromUser=new DataInputStream(System.in);
					while(true){
						System.out.println(fromServer.readLine());
						String input=fromUser.readLine();
						if(input.equals("Q"))
							break;
						toServer.writeChars(input);
					}
				} catch (UnknownHostException e) {
					e.printStackTrace();
				} 
		       finally {
		    	  con.close();
		       }
			}

		


	}


